var convert2geojson=function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";var n={};n.Input=o(1),n.Map=o(6),n.Init=o(7),n.Add=o(9),n.Reset=o(8).resetView,n.Set=o(8).setPlace,t.exports=n},function(t,e,o){"use strict";var n=o(2),r=o(4),i=o(5);t.exports=function(t,e,o,l){var s=n.extname(e).replace(".",""),a="";switch(s){case"json":a=r(JSON.parse(t),o,l);break;case"csv":a=i(t,o,l);break;default:console.log("Can not convert this type. If you need to convert to this type, you can open issue in here['https://github.com/HsuTing/convert2geojson/issues'].")}return a}},function(t,e,o){(function(t){"use strict";function o(t,e){for(var o=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),o++):o&&(t.splice(n,1),o--)}if(e)for(;o--;o)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var o=[],n=0;n<t.length;n++)e(t[n],n,t)&&o.push(t[n]);return o}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var l=i>=0?arguments[i]:t.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(e=l+"/"+e,r="/"===l.charAt(0))}return e=o(n(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===l(t,-1);return t=o(n(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,o){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var o=t.length-1;o>=0&&""===t[o];o--);return e>o?[]:t.slice(e,o-e+1)}t=e.resolve(t).substr(1),o=e.resolve(o).substr(1);for(var r=n(t.split("/")),i=n(o.split("/")),l=Math.min(r.length,i.length),s=l,a=0;l>a;a++)if(r[a]!==i[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),o=e[0],n=e[1];return o||n?(n&&(n=n.substr(0,n.length-1)),o+n):"."},e.basename=function(t,e){var o=i(t)[2];return e&&o.substr(-1*e.length)===e&&(o=o.substr(0,o.length-e.length)),o},e.extname=function(t){return i(t)[3]};var l="b"==="ab".substr(-1)?function(t,e,o){return t.substr(e,o)}:function(t,e,o){return 0>e&&(e=t.length+e),t.substr(e,o)}}).call(e,o(3))},function(t,e){"use strict";function o(){u=!1,l.length?a=l.concat(a):c=-1,a.length&&n()}function n(){if(!u){var t=setTimeout(o);u=!0;for(var e=a.length;e;){for(l=a,a=[];++c<e;)l&&l[c].run();c=-1,e=a.length}l=null,u=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function i(){}var l,s=t.exports={},a=[],u=!1,c=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];a.push(new r(t,e)),1!==a.length||u||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,o){(function(e){"use strict";function o(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var n=function(t,e){for(var n in e)if(void 0==t[n]||o(t[n])!=o(e[n]))return!1;return!0},r=function a(t,e,r,i){if(n(t,i))r.push(t);else if("object"==("undefined"==typeof t?"undefined":o(t)))for(var l in t)if(void 0!=i.path&&i.path==l)e[l]=t[l];else if(i.lat==l)e[l]=t[l];else if(i.lon==l)e[l]=t[l];else if(a(t[l],e,r,i),"object"!=o(t[l]))if(void 0==e[l])e[l]=t[l];else if("object"==o(e[l])){var s={};s[l]=t[l],e[l].push(s)}else{var u={},c={};u[l]=e[l],c[l]=t[l],e[l]=[],e[l].push(u),e[l].push(c)}},i=function u(t,e,n){for(var r in t)if("object"==o(t[r]))void 0!=n.path&&n.path==r?e[r]=t[r]:n.lon==r?e[r]=t[r]:n.lat==r?e[r]=t[r]:u(t[r],e,n);else if(void 0==e[r])e[r]=t[r];else if("object"==o(e[r])){var i={};i[r]=t[r],e[r].push(i)}else{var l={},s={};l[r]=e[r],s[r]=t[r],e[r]=[],e[r].push(l),e[r].push(s)}},l=function c(t,e,n){for(var r in t)if("object"==o(t[r]))if(void 0!=n.path&&n.path==r)for(var i in t[r])e.symbol.path.push(t[r][i]);else if(n.lon==r){e.symbol.lon=[];for(var l in t[r])e.symbol.lon.push(t[r][l])}else if(n.lat==r){e.symbol.lat=[];for(var s in t[r])e.symbol.lat.push(t[r][s])}else c(t[r],e,n);else if(r==n.lon)e.symbol.lon=t[r];else if(r==n.lat)e.symbol.lat=t[r];else if(void 0!=n.include)for(var a in n.include)r==a&&(e.data[n.include[a]]=t[r]);else if(void 0==e.data[r])e.data[r]=t[r];else if("object"==o(e.data[r]))e.data[r].push(t[r]);else{var u=e.data[r];e.data[r]=[],e.data[r].push(u),e.data[r].push(t[r])}},s=function(t,e,o){var n={type:"Feature",geometry:{}};return t.data.lon=t.symbol.lon,t.data.lat=t.symbol.lat,n.geometry.type=e,n.geometry.coordinates=o,n.properties=t.data,n};t.exports=function(t,n,a){void 0!=a&&a(t);var u={type:"FeatureCollection",features:[]};void 0==t[0]&&(t=[t]),(void 0==n.path&&void 0==n.lon&&void 0==n.lat||void 0==n.unit)&&(console.log("Error, ['lon', 'lat'] or ['path'] is needed and 'unit' is needed, too."),e.exit());for(var c in t){var f=t[c],p={},d=[];r(f,p,d,n.unit);for(var v in d){var m={symbol:{lon:"",lat:"",path:[]},data:{}},b=d[v],y=JSON.parse(JSON.stringify(p));if(i(b,y,n),l(y,m,n),0==m.symbol.path.length)if(m.data.lon=m.symbol.lon,m.data.lat=m.symbol.lat,"object"==o(m.symbol.lon)&&"object"==o(m.symbol.lat))for(var h in m.symbol.lon)u.features.push(s(m,"Point",[parseFloat(m.symbol.lon[h]),parseFloat(m.symbol.lat[h])]));else u.features.push(s(m,"Point",[parseFloat(m.symbol.lon),parseFloat(m.symbol.lat)]));else{if(""!=m.symbol.lon&&""!=m.symbol.lat)if(m.data.lon=m.symbol.lon,m.data.lat=m.symbol.lat,"object"==o(m.symbol.lon)&&"object"==o(m.symbol.lat))for(var h in m.symbol.lon)u.features.push(s(m,"Point",[parseFloat(m.symbol.lon[h]),parseFloat(m.symbol.lat[h])]));else u.features.push(s(m,"Point",[parseFloat(m.symbol.lon),parseFloat(m.symbol.lat)]));m.data.path=m.symbol.path;var g="object"==o(m.symbol.path[0][0])?"Polygon":"LineString";u.features.push(s(m,g,m.symbol.path))}}}return u}}).call(e,o(3))},function(t,e){"use strict";var o=function(t){var e=t.split(/\r\n|\n/),o=[],n=[];for(var r in e){var i=e[r].split(/,/);if(""!=i&&void 0!=i)if(0==r)for(var l in i)o.push(i[l]);else{var s={};for(var l in i)s[o[l]]=i[l];n.push(s)}}return n};t.exports=function(t,e,n){void 0!=n&&n(t);var r={type:"FeatureCollection",features:[]},i=o(t);for(var l in i){var s=i[l],a=parseFloat(s[e.lon]),u=parseFloat(s[e.lat]),c={};if(void 0!=e.include)for(var f in e.include)c[e.include[f]]=s[f];else for(var p in s)c[p]=s[p];var d={type:"Feature",geometry:{type:"Point",coordinates:[a,u]},properties:c};r.features.push(d)}return r}},function(t,e,o){"use strict";var n=o(2),r=o(7),i=o(8).resetView,l=o(8).setPlace,s=o(9);t.exports=function(t){var e='<div class="simple-map-button">';e+='<button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--2dp simple-map-reset">',e+='<i class="material-icons">refresh</i>',e+="</button>",e+='<button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--2dp simple-map-set">',e+='<i class="material-icons">place</i>',e+="</button>",e+="</div>",$("#"+t.simple.id).addClass("simple-map").html(e);var o=r(t.simple.id,t.simple.center),a=n.join(t.output.path,t.output.filename);s(o,a,t.simple.include),$(".simple-map-reset").click(function(){i(o,t.simple.center)}),$(".simple-map-set").click(function(){l(o)})}},function(t,e){"use strict";t.exports=function(t,e){void 0==e.zoom&&(e.zoom=7),void 0==t&&(t="map",$("#map").addClass("simple-map")),mapboxgl.accessToken="pk.eyJ1IjoiaHN1dGluZyIsImEiOiJRajF4Y0hjIn0.9UDt8uw_fxEX791Styd-lA";var o=new mapboxgl.Map({container:t,style:"mapbox://styles/mapbox/streets-v8",center:[e.lon,e.lat],zoom:e.zoom});return o.addControl(new mapboxgl.Navigation),o}},function(t,e){"use strict";var o={};o.setPlace=function(t){function e(e){t.flyTo({center:[e.coords.longitude,e.coords.latitude],zoom:12})}navigator.geolocation&&navigator.geolocation.getCurrentPosition(e)},o.resetView=function(t,e){t.flyTo({center:[e.lon,e.lat],zoom:e.zoom})},t.exports=o},function(t,e){"use strict";var o=function(t,e,o,n){t.addSource(n,{type:"geojson",data:e});var r={polygon:{visible:!0,style:{"fill-color":"blue","fill-opacity":.5},info:!0,filter:["all"]},line:{visible:!0,style:{"line-color":"blue","line-width":8},info:!0,filter:["all"]},circle:{visible:!1,style:{"circle-radius":10,"circle-color":"blue","circle-blur":1},info:!0,filter:["all"]},icon:{visible:!0,style:{"icon-image":"marker-15"},info:!0,filter:["all"]}};for(var i in o.style)for(var l in o.style[i])r[i][l]=o.style[i][l];r.polygon.visible&&t.addLayer({id:n+"-polygon",type:"fill",source:n,paint:r.polygon.style,interactive:r.polygon.info,filter:r.polygon.filter}),r.line.visible&&t.addLayer({id:n+"-line",type:"line",source:n,layout:{"line-join":"round","line-cap":"round"},paint:r.line.style,interactive:r.line.info,filter:r.line.filter}),r.circle.visible&&t.addLayer({id:n+"-circle",type:"circle",source:n,paint:r.circle.style,interactive:r.circle.info,filter:r.circle.filter}),r.icon.visible&&t.addLayer({id:n+"-symbol",type:"symbol",source:n,layout:r.icon.style,interactive:r.icon.info,filter:r.icon.filter}),t.on("click",function(e){t.featuresAt(e.point,{radius:5},function(n,r){if(0!=r.length){var i="",l=r[0].properties;if(void 0==o.title&&void 0==o.content)for(var s in l)i+="<font class='content'>"+s+"： "+l[s]+"</font><br/>";else{for(var s in o.title)i+="<font class='header'>"+o.title[s]+(""==o.title[s]?"":"： ")+l[s]+"</font><br/>";for(var s in o.content)i+="<font class='content'>"+o.content[s]+(""==o.content[s]?"":"： ")+l[s]+"</font><br/>"}(new mapboxgl.Popup).setLngLat(e.lngLat).setHTML(i).addTo(t)}})})};t.exports=function(t,e,n){for(var r in n){var i=Object.keys(n[r])[0],l=n[r][i];void 0==e?o(t,l.data,l,i):!function(){var i=Object.keys(n[r])[0],l=e.replace("[name]",i),s=n[r][i];$.getJSON(l,function(e){o(t,e,s,i)})}()}}}]);